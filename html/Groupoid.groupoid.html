<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Groupoid.groupoid</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Groupoid.groupoid</h1>

<div class="code">
</div>

<div class="doc">
  This section presents our formalization of groupoids in  with
  universe polymorphism. 
  We first explain our overloaded management of
  equalities and introduce type classes for groupoids and their
  associated structures, i.e., functors, natural transformations and
  homotopy equivalences
  ().
  Natural transformations give access to a homotopic form of
  functional extensionality, while homotopy equivalences provide
  extensionality at the level of 0-types.  Polymorphic universes are
  needed to state that setoids and homotopy equivalences form a
  groupoid.  Homotopic equivalences directly provide access to a
  rewriting mechanism on types (). This rewriting is
  used to extend functors and products to dependent functors and
  dependent sums ().
 

<div class="paragraph"> </div>

<a name="lab6"></a><h2 class="section">Definition of groupoids </h2>


<div class="paragraph"> </div>

We formalize groupoids using type classes.  Contrarily to what is done
in the setoid translation, the basic notion of a morphism is an
inhabitant of a relation in <span class="inlinecode"><span class="id" type="keyword">Type</span></span> (i.e., a proof-relevant relation): 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="HomT"><span class="id" type="definition">HomT</span></a> (<span class="id" type="var">T</span> : <span class="id" type="keyword">Type</span>) := <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>.<br/>

<br/>
</div>

<div class="doc">
  
  Given <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span> in <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span>, <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span> is the type of morphism from <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> to <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span>. 
  To manipulate different <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a></span>'s at dimension 1 and 2 more abstractly, we use ad-hoc 
  polymorphism and introduce type classes <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#HomT1"><span class="id" type="record">HomT1</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#HomT2"><span class="id" type="record">HomT2</span></a></span> with according notations. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="HomT1"><span class="id" type="record">HomT1</span></a> <span class="id" type="var">T</span> := {<a name="eq1"><span class="id" type="projection">eq1</span></a> : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a>}.<br/>
<span class="id" type="keyword">Infix</span> <a name="::x_'~1'_x"><span class="id" type="notation">"</span></a>~1" := <a class="idref" href="Groupoid.groupoid.html#eq1"><span class="id" type="method">eq1</span></a> (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80).<br/>

<br/>
<span class="id" type="keyword">Class</span> <a name="HomT2"><span class="id" type="record">HomT2</span></a> {<span class="id" type="var">T</span>} (<span class="id" type="var">Hom</span> : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a>) := {<a name="eq2"><span class="id" type="projection">eq2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">},</span></a> <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> (<a class="idref" href="Groupoid.groupoid.html#Hom"><span class="id" type="variable">Hom</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>)}.<br/>
<span class="id" type="keyword">Infix</span> <a name="::x_'~2'_x"><span class="id" type="notation">"</span></a>~2" := <a class="idref" href="Groupoid.groupoid.html#eq2"><span class="id" type="method">eq2</span></a> (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80).<br/>

<br/>

<br/>
</div>

<div class="doc">
Given a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a></span>, we define type classes: <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Identity"><span class="id" type="record">Identity</span></a></span> that gives the
  identity morphism, <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Inverse"><span class="id" type="record">Inverse</span></a></span> which corresponds to the existence of an
  inverse morphism for every morphism (noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a></span> <span class="inlinecode">^-1</span>) and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Composition"><span class="id" type="record">Composition</span></a></span>
  which corresponds to morphism composition (noted <span class="inlinecode"><a class="idref" href="Groupoid.fun_eq.html#g"><span class="id" type="variable">g</span></a></span> <span class="inlinecode">°</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a></span>). Those three
  properties are gathered by the type class <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Equivalence"><span class="id" type="record">Equivalence</span></a></span>.
</div>
<div class="code">
</div>

<div class="doc">
  A <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#CategoryP"><span class="id" type="record">CategoryP</span></a></span> is defined as a category
  where coherences are given up-to an equivalence relation denoted by
  <span class="inlinecode">~2</span>.  Ordinary categories are derived with the additional requirement
  that higher equalities are trivial, which can be expressed using
  identity types (see the definition of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Groupoid"><span class="id" type="record">Groupoid</span></a></span>).  

<div class="paragraph"> </div>

  We do not put this condition into the basic definition because
categories and functors form a pre-category but not a 1-category. Thus,
working with pre-categories and pre-groupoids allows to share more
structure and is closer to the ω-groupoid model which is itself enriched.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="CategoryP"><span class="id" type="record">CategoryP</span></a> <span class="id" type="var">T</span> := { <a name="Hom1"><span class="id" type="projection">Hom1</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#HomT1"><span class="id" type="class">HomT1</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a>; <a name="Hom2"><span class="id" type="projection">Hom2</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#HomT2"><span class="id" type="class">HomT2</span></a> <a class="idref" href="Groupoid.groupoid.html#eq1"><span class="id" type="method">eq1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Id"><span class="id" type="projection">Id</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#Identity"><span class="id" type="class">Identity</span></a> <a class="idref" href="Groupoid.groupoid.html#eq1"><span class="id" type="method">eq1</span></a>; <a name="Comp"><span class="id" type="projection">Comp</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#Composition"><span class="id" type="class">Composition</span></a> <a class="idref" href="Groupoid.groupoid.html#eq1"><span class="id" type="method">eq1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Equivalence_2"><span class="id" type="projection">Equivalence_2</span></a> :&gt; <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#Equivalence"><span class="id" type="class">Equivalence</span></a> (<a class="idref" href="Groupoid.groupoid.html#eq2"><span class="id" type="method">eq2</span></a> (<span class="id" type="var">x</span>:=<a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a>) (<span class="id" type="var">y</span>:=<a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="id_R"><span class="id" type="projection">id_R</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> (<span class="id" type="var">f</span> : <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="id_L"><span class="id" type="projection">id_L</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> (<span class="id" type="var">f</span> : <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="assoc"><span class="id" type="projection">assoc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span> <span class="id" type="var">w</span> (<span class="id" type="var">f</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) (<span class="id" type="var">g</span>: <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#z"><span class="id" type="variable">z</span></a>) (<span class="id" type="var">h</span>: <a class="idref" href="Groupoid.groupoid.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="comp"><span class="id" type="projection">comp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span> (<span class="id" type="var">f</span> <span class="id" type="var">f'</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) (<span class="id" type="var">g</span> <span class="id" type="var">g'</span>: <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#z"><span class="id" type="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#f'"><span class="id" type="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#g'"><span class="id" type="variable">g'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#g'"><span class="id" type="variable">g'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f'"><span class="id" type="variable">f'</span></a> }.<br/>

<br/>
</div>

<div class="doc">
  In homotopy type theory, coherences are expressed using identity types, with a further requirement that the internal notion of equality induced by the category (isomorphism between two objects) coincides with its identity type.  
  We do not share this point of view because our goal is to restrict the use of identity types to the treatment of contractedness for higher cells. 
  Note that the <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#comp"><span class="id" type="projection">comp</span></a></span> law is not present in traditional definition of categories 
  because it is automatically satisfied for the identity type.

</div>
<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

 A <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#GroupoidP"><span class="id" type="record">GroupoidP</span></a></span> is a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#CategoryP"><span class="id" type="record">CategoryP</span></a></span> where all 1-Homs are invertible
 and subject to additional compatibility laws for inverses.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="GroupoidP"><span class="id" type="record">GroupoidP</span></a> <span class="id" type="var">T</span> := { <a name="C"><span class="id" type="projection">C</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#CategoryP"><span class="id" type="class">CategoryP</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> ;  <a name="Inv"><span class="id" type="projection">Inv</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#Inverse"><span class="id" type="class">Inverse</span></a> <a class="idref" href="Groupoid.groupoid.html#eq1"><span class="id" type="method">eq1</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="inv_R"><span class="id" type="projection">inv_R</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> (<span class="id" type="var">f</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'^-1'"><span class="id" type="notation">^-1</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="inv_L"><span class="id" type="projection">inv_L</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> (<span class="id" type="var">f</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'^-1'"><span class="id" type="notation">^-1</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="inv"><span class="id" type="projection">inv</span></a> :   <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> (<span class="id" type="var">f</span> <span class="id" type="var">f'</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#f'"><span class="id" type="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'^-1'"><span class="id" type="notation">^-1</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#f'"><span class="id" type="variable">f'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'^-1'"><span class="id" type="notation">^-1</span></a>}.<br/>

<br/>
</div>

<div class="doc">
   Groupoids are then pre-groupoids where equality at
   dimension 2 is irrelevant. This irrelevance is defined using a
   notion of contractibility expressed with (relevant) identity types.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Contr"><span class="id" type="record">Contr</span></a> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) := { <br/>
&nbsp;&nbsp;<a name="center"><span class="id" type="projection">center</span></a> : <a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a> ;<br/>
&nbsp;&nbsp;<a name="contr"><span class="id" type="projection">contr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">y</span> : <a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#center"><span class="id" type="method">center</span></a> <a class="idref" href="Groupoid.HoTT_light.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>}.<br/>

<br/>
</div>

<div class="doc">
This is a way to require that all higher-cells are trivial. In our setting, we do not have the possibility to say that all 2-cells are related by a 3-cell, and so on. The price to pay will be explicit reasoning on identity types when proving for instance contractedness for the function space. In that case, we need the axiom of functional extensionality.
By analogy to homotopy type theory, we note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Groupoid"><span class="id" type="record">Groupoid</span></a></span> the property of being a groupoid. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Groupoid"><span class="id" type="record">Groupoid</span></a> <span class="id" type="var">T</span> := { <a name="G"><span class="id" type="projection">G</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#GroupoidP"><span class="id" type="class">GroupoidP</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> ;<br/>
&nbsp;&nbsp;<a name="is_Trunc_2"><span class="id" type="projection">is_Trunc_2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a>) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) (<span class="id" type="var">E</span> <span class="id" type="var">E'</span> : <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~2'_x"><span class="id" type="notation">~2</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.HoTT_light.html#Contr"><span class="id" type="class">Contr</span></a> (<a class="idref" href="Groupoid.groupoid.html#E"><span class="id" type="variable">E</span></a> <a class="idref" href="Groupoid.HoTT_light.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Groupoid.groupoid.html#E'"><span class="id" type="variable">E'</span></a>)}.<br/>

<br/>
</div>

<div class="doc">
 
    In the same way, we define <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Setoid"><span class="id" type="record">Setoid</span></a></span> when equality is irrelevant at dimension 1.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Setoid"><span class="id" type="record">Setoid</span></a> <span class="id" type="var">T</span> := { <a name="S"><span class="id" type="projection">S</span></a> :&gt; <a class="idref" href="Groupoid.groupoid.html#Groupoid"><span class="id" type="class">Groupoid</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> ; <br/>
&nbsp;&nbsp;<a name="is_Trunc_1"><span class="id" type="projection">is_Trunc_1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a>) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#Contr"><span class="id" type="class">Contr</span></a> (<a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.HoTT_light.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a>)}.<br/>

<br/>
</div>

<div class="doc">
   We note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#GroupoidType"><span class="id" type="definition">GroupoidType</span></a></span> for the types that form a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Groupoid"><span class="id" type="record">Groupoid</span></a></span>.
       The subscript  comes from the fact that groupoids are 1-truncated types
       in homotopy type theory. In the same way,  
       we note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#SetoidType"><span class="id" type="definition">SetoidType</span></a></span> 
       for the types that form a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Setoid"><span class="id" type="record">Setoid</span></a></span>.
       We define <span class="inlinecode"></span> <span class="inlinecode">[[<a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a>]]</span> <span class="inlinecode"></span> the lifting of setoids to groupoids.

</div>
<div class="code">
</div>

<div class="doc">
<a name="lab7"></a><h2 class="section">Functors and natural transformations</h2>


A morphism between two groupoids is a functor, i.e., a function
between objects of the groupoids that transports homs and
subject to compatibility laws. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Functor"><span class="id" type="record">Functor</span></a> {<span class="id" type="var">T</span> <span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#UGroupoidType"><span class="id" type="definition">UGroupoidType</span></a>} (<span class="id" type="var">f</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) : <span class="id" type="keyword">Type</span> :=<br/>
{ <a name="_map"><span class="id" type="projection">_map</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> {<span class="id" type="var">x</span> <span class="id" type="var">y</span>}<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> ;<br/>
&nbsp;&nbsp;<a name="_map_comp"><span class="id" type="projection">_map_comp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> {<span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span>} (<span class="id" type="var">e</span>:<a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) (<span class="id" type="var">e'</span>:<a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#z"><span class="id" type="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="method">_map</span></a> (<a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="Groupoid.groupoid.html#::x_'~2'_x"><span class="id" type="notation">~2</span></a> <a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="method">_map</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="method">_map</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> ;<br/>
&nbsp;&nbsp;<a name="_map2"><span class="id" type="projection">_map2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span> <span class="id" type="var">y</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>} {<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">},</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~2'_x"><span class="id" type="notation">~2</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="method">_map</span></a>  <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~2'_x"><span class="id" type="notation">~2</span></a> <a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="method">_map</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> }.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Fun_Type"><span class="id" type="definition">Fun_Type</span></a> (<span class="id" type="var">T</span> <span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#UGroupoidType"><span class="id" type="definition">UGroupoidType</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">f</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#Functor"><span class="id" type="class">Functor</span></a> <span class="id" type="var">f</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
 We note <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> <span class="inlinecode">---&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span> the type of functors from <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> to <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span>.
Note that we only impose compatibility with the composition as
compatibilities with identities and inverse Homs can be deduced from
it. We note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#M"><span class="id" type="variable">M</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#N"><span class="id" type="variable">N</span></a></span> the application of a function <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#M"><span class="id" type="variable">M</span></a></span> in the first
component of a dependent pair. 
</div>
<div class="code">
</div>

<div class="doc">
Equivalence between functors is given by natural transformations.
  We insist here that this naturality condition in the definition of
  functional equality is crucial in a higher setting.  It is usually
  omitted in formalizations of homotopy theory in Coq because there they
  only consider the 1-groupoid case where the naturality becomes
  trivial, see for instance.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="NaturalTransformation"><span class="id" type="record">NaturalTransformation</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> {<span class="id" type="var">f</span> <span class="id" type="var">g</span> : <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>} (<span class="id" type="var">α</span> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>) := <br/>
&nbsp;&nbsp;<a name="_α_map"><span class="id" type="projection">_α_map</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> {<span class="id" type="var">t</span> <span class="id" type="var">t'</span>} (<span class="id" type="var">e</span> : <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#t'"><span class="id" type="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">map</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">map</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="nat_trans"><span class="id" type="definition">nat_trans</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> (<a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) <br/>
&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">f</span> <span class="id" type="var">g</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">α</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#NaturalTransformation"><span class="id" type="class">NaturalTransformation</span></a> <span class="id" type="var">α</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
In our setting, equality between natural transformations is not expressed using identity types, but using the higher categorical notion of modification.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="modification"><span class="id" type="definition">modification</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> (<span class="id" type="var">f</span> <span class="id" type="var">g</span> : <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> (<a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a>) <br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">α</span> <span class="id" type="var">β</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#β"><span class="id" type="variable">β</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">

    We can now equip the functor space with a groupoid structure. Note
    here that we (abusively) use the same notation for the functor type and 
    its corresponding groupoid. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="_fun"><span class="id" type="definition">_fun</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#UGroupoidType"><span class="id" type="definition">UGroupoidType</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid.html#nat_trans_grp"><span class="id" type="instance">nat_trans_grp</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 In the definition above, <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#nat_trans_grp"><span class="id" type="instance">nat_trans_grp</span></a></span> is a proof that <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#nat_trans"><span class="id" type="definition">nat_trans</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#modification"><span class="id" type="definition">modification</span></a></span> form a groupoid on <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> <span class="inlinecode">---&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span>. In particular, it makes use of functional extensionality, which says that the canonical proof of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_eq.html#g"><span class="id" type="variable">g</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode">∀</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a>,</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_eq.html#g"><span class="id" type="variable">g</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> is an equivalence (in the sense of homotopy type theory).   
 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h2 class="section">Homotopic equivalences</h2>

    
    The standard notion of equivalence between groupoids is given by
    adjoint equivalences, that is a map with an <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#adjoint"><span class="id" type="abbreviation">adjoint</span></a></span> and two proofs
    that they form a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#section"><span class="id" type="abbreviation">section</span></a></span> (or counit of the adjunction) and a
    <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#retraction"><span class="id" type="abbreviation">retraction</span></a></span> (or unit of the adjunction). 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Iso_struct"><span class="id" type="record">Iso_struct</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> (<span class="id" type="var">f</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) := <br/>
{ <a name="_adjoint"><span class="id" type="projection">_adjoint</span></a> :    <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> ;<br/>
&nbsp;&nbsp;<a name="_section"><span class="id" type="projection">_section</span></a> :    <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#_adjoint"><span class="id" type="method">_adjoint</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> ;<br/>
&nbsp;&nbsp;<a name="_retraction"><span class="id" type="projection">_retraction</span></a> : <a class="idref" href="Groupoid.groupoid.html#_adjoint"><span class="id" type="method">_adjoint</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a>}.<br/>

<br/>
</div>

<div class="doc">
This type class defines usual equivalences. To get an adjoint
    equivalence, an additional triangle identity between sections and
    retractions is required. This allows to eliminate a section against
    a retraction in proofs. A corresponding triangle identity involving
    <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#adjoint"><span class="id" type="abbreviation">adjoint</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a></span> can also be expressed, but it can be shown that each
    condition implies the other.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Equiv_struct"><span class="id" type="record">Equiv_struct</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> (<span class="id" type="var">f</span> : <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) := <br/>
{ <a name="iso"><span class="id" type="projection">iso</span></a> : <a class="idref" href="Groupoid.groupoid.html#Iso_struct"><span class="id" type="class">Iso_struct</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a>;<br/>
&nbsp;&nbsp;<a name="_triangle"><span class="id" type="projection">_triangle</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#_section"><span class="id" type="method">_section</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">map</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="Groupoid.groupoid.html#_retraction"><span class="id" type="method">_retraction</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>)}.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Equiv"><span class="id" type="definition">Equiv</span></a> <span class="id" type="var">A</span> <span class="id" type="var">B</span> := <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">f</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#Equiv_struct"><span class="id" type="class">Equiv_struct</span></a> <span class="id" type="var">f</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

   It is well known that any equivalence can be turned into an adjoint
   equivalence by slighty modifying the section. While available in
   our formalization, this result should be used with care as it
   opacifies the underlying notion of homotopy and can harden proofs.

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Equality of homotopy equivalences is given by equivalence of
  adjunctions. Two adjunctions are equivalent if their left adjoint are
  equivalent and they agree on their sections (up-to the isomorphism).
  Note that equivalence of the right adjoints and agreement on their
  retractions can be deduced so they are not part of the definition.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="EquivEq"><span class="id" type="record">EquivEq</span></a> {<span class="id" type="var">T</span> <span class="id" type="var">U</span>} {<span class="id" type="var">f</span> <span class="id" type="var">g</span> : <a class="idref" href="Groupoid.groupoid.html#Equiv"><span class="id" type="definition">Equiv</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>} (<span class="id" type="var">α</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) : <span class="id" type="keyword">Type</span> :=  <br/>
&nbsp;<a name="_eq_section"><span class="id" type="projection">_eq_section</span></a> : <a class="idref" href="Groupoid.groupoid.html#section"><span class="id" type="abbreviation">section</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#section"><span class="id" type="abbreviation">section</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'''_x"><span class="id" type="notation">°'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'''_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#Equiv_adjoint"><span class="id" type="definition">Equiv_adjoint</span></a> <a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'°'''_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Equiv_eq"><span class="id" type="definition">Equiv_eq</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> (<span class="id" type="var">f</span> <span class="id" type="var">g</span> : <a class="idref" href="Groupoid.groupoid.html#Equiv"><span class="id" type="definition">Equiv</span></a> <a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">α</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid.html#nat_trans"><span class="id" type="definition">nat_trans</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#EquivEq"><span class="id" type="class">EquivEq</span></a> <span class="id" type="var">α</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
It is crucial here to be able to express the 2-dimensional equality
  between groupoids as a particular <span class="inlinecode"><span class="id" type="keyword">Type</span></span> and not directly using the
  identity type. Indeed, whereas the functional extensionality principle
  makes the use of the identity type and modification equivalent to
  treat equality of natural transformations, the same is not possible
  for homotopy equivalences.  
</div>
<div class="code">

<br/>
</div>

<div class="doc">
We can define the pre-groupoid <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a></span> of groupoids and homotopy
 equivalences.  However, groupoids together with homotopy equivalences
 do not form a groupoid but rather a 2-groupoid. As we only have a
 formalization of groupoids, this can not be expressed in our
 setting. Nevertheless, we can state that setoids (inhabitants of
 <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#SetoidType"><span class="id" type="definition">SetoidType</span></a></span>) form a groupoid.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Type0"><span class="id" type="definition">Type0</span></a> : <a class="idref" href="Groupoid.groupoid.html#GroupoidType"><span class="id" type="definition">GroupoidType</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#SetoidType"><span class="id" type="definition">SetoidType</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid.html#Equiv_Groupoid"><span class="id" type="instance">Equiv_Groupoid</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 In the definition above, <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Equiv_Groupoid"><span class="id" type="instance">Equiv_Groupoid</span></a></span> is a proof
that <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Equiv"><span class="id" type="definition">Equiv</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Equiv_eq"><span class="id" type="definition">Equiv_eq</span></a></span> form a groupoid. It makes again use of
functional extensionality to prove contractibility of higher cells.  As
<span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#GroupoidType"><span class="id" type="definition">GroupoidType</span></a></span> appears both in the term and in the type, the use of
polymorphic universe is crucial here to avoid an inconsistency. 
</div>
<div class="code">
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">Rewriting in homotopy type theory</h2>

  

<div class="paragraph"> </div>

  When considering a dependent family <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> of type <span class="inlinecode">[<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a>]</span>, the <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="projection">_map</span></a></span> function
  provides a homotopy equivalence between <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span> for any <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span>
  and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span> such that <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode">~1</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span>. The underlying map of homotopy equivalence
  can hence be used to cast any term of type <span class="inlinecode">[<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a>]</span> to <span class="inlinecode">[<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a>]</span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="transport"><span class="id" type="definition">transport</span></a> <span class="id" type="var">A</span> (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) {<span class="id" type="var">x</span> <span class="id" type="var">y</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>} (<span class="id" type="var">e</span>:<a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'--->'_x"><span class="id" type="notation">)</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">map</span></a> <a class="idref" href="Groupoid.groupoid.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Using compatibility on <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_map"><span class="id" type="projection">_map</span></a></span>, we can reason on different transport paths.  
  Intuitively, any two transport maps with the same domain
  and codomain should be the same up to homotopy. As we only consider
  groupoids, there is only one relevant level of compatibilities,
  higher compatibilities are trivial. <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#transport_eq"><span class="id" type="definition">transport_eq</span></a></span> is an example of a
  derivable equality between two transport maps, when the proofs
  relating <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#x"><span class="id" type="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#y"><span class="id" type="variable">y</span></a></span> are equal.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="transport_eq"><span class="id" type="definition">transport_eq</span></a> <span class="id" type="var">A</span> (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) {<span class="id" type="var">x</span> <span class="id" type="var">y</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>} {<span class="id" type="var">e</span> <span class="id" type="var">e'</span>:<a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>} (<span class="id" type="var">H</span>:<a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid.html#transport"><span class="id" type="definition">transport</span></a> <a class="idref" href="Groupoid.groupoid.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#transport"><span class="id" type="definition">transport</span></a> <a class="idref" href="Groupoid.groupoid.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#map2"><span class="id" type="abbreviation">map2</span></a> <a class="idref" href="Groupoid.groupoid.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#H"><span class="id" type="variable">H</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
 In the text, 
  we also use <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#transport_id"><span class="id" type="definition">transport_id</span></a></span>, <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#transport_comp"><span class="id" type="definition">transport_comp</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#transport_map"><span class="id" type="definition">transport_map</span></a></span> for compatibilities with identities, composition and for the functoriality of <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#transport"><span class="id" type="definition">transport</span></a></span>. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab10"></a><h2 class="section">Dependent Product</h2>

  
  As for functions, dependent functions will be interpreted as functors. 
  But this time, the compatibilities with higher-order morphisms cannot
  be expressed as simple equalities, as some transport has to be done to 
  make those equalities typable. We call such a functor a 
  . Dependent functors are defined between a groupoid <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> and a functor <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span> from <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> to <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a></span> (the pre-groupoid of groupoids). <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span> must be seen as a type depending on <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span>, or as a family of types indexed by <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span>. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="DependentFunctor"><span class="id" type="record">DependentFunctor</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">f</span> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) : <span class="id" type="keyword">Type</span> := {<br/>
&nbsp;&nbsp;<a name="_Dmap"><span class="id" type="projection">_Dmap</span></a>      : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> {<span class="id" type="var">x</span> <span class="id" type="var">y</span>} (<span class="id" type="var">e</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a> <a class="idref" href="Groupoid.groupoid.html#transport"><span class="id" type="definition">transport</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> ;<br/>
&nbsp;&nbsp;<a name="_Dmap_id"><span class="id" type="projection">_Dmap_id</span></a>   : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#_Dmap"><span class="id" type="method">_Dmap</span></a> (<a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#transport_id"><span class="id" type="definition">transport_id</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a>;<br/>
&nbsp;&nbsp;<a name="_Dmap_comp"><span class="id" type="projection">_Dmap_comp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">z</span> (<span class="id" type="var">e</span> : <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) (<span class="id" type="var">e'</span> : <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#z"><span class="id" type="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Groupoid.groupoid.html#_Dmap"><span class="id" type="method">_Dmap</span></a> (<a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="Groupoid.groupoid.html#::x_'~2'_x"><span class="id" type="notation">~2</span></a> <a class="idref" href="Groupoid.groupoid.html#_Dmap"><span class="id" type="method">_Dmap</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#transport_map"><span class="id" type="definition">transport_map</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <span class="id" type="var">_</span> (<a class="idref" href="Groupoid.groupoid.html#_Dmap"><span class="id" type="method">_Dmap</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#transport_comp"><span class="id" type="definition">transport_comp</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">)</span></a>;<br/>
&nbsp;&nbsp;<a name="_Dmap2"><span class="id" type="projection">_Dmap2</span></a>  : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> (<span class="id" type="var">e</span> <span class="id" type="var">e'</span>: <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#y"><span class="id" type="variable">y</span></a>) (<span class="id" type="var">H</span>: <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Groupoid.groupoid.html#_Dmap"><span class="id" type="method">_Dmap</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#_Dmap"><span class="id" type="method">_Dmap</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#transport_eq"><span class="id" type="definition">transport_eq</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#H"><span class="id" type="variable">H</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">)</span></a>}.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Prod_Type"><span class="id" type="definition">Prod_Type</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">f</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#DependentFunctor"><span class="id" type="class">DependentFunctor</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <span class="id" type="var">f</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

  Equality between dependent functors is given by dependent natural transformations
  and equality at level 2 is given by dependent modifications.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="DNaturalTransformation"><span class="id" type="record">DNaturalTransformation</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) {<span class="id" type="var">f</span> <span class="id" type="var">g</span>: <a class="idref" href="Groupoid.groupoid.html#Prod_Type"><span class="id" type="definition">Prod_Type</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>} (<span class="id" type="var">α</span> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>)<br/>
&nbsp;:= <a name="_α_Dmap"><span class="id" type="projection">_α_Dmap</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> {<span class="id" type="var">t</span> <span class="id" type="var">t'</span>} <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#::'Dmap'_x"><span class="id" type="notation">Dmap</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#::'Dmap'_x"><span class="id" type="notation">Dmap</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#transport_map"><span class="id" type="definition">transport_map</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Dnat_trans"><span class="id" type="definition">Dnat_trans</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span>:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">f</span> <span class="id" type="var">g</span>: <a class="idref" href="Groupoid.groupoid.html#Prod_Type"><span class="id" type="definition">Prod_Type</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>)  <br/>
&nbsp;&nbsp;:= <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">α</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#DNaturalTransformation"><span class="id" type="class">DNaturalTransformation</span></a> <span class="id" type="var">α</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Dmodification"><span class="id" type="definition">Dmodification</span></a> <span class="id" type="var">T</span> <span class="id" type="var">U</span> (<span class="id" type="var">f</span> <span class="id" type="var">g</span> : <a class="idref" href="Groupoid.groupoid.html#Prod_Type"><span class="id" type="definition">Prod_Type</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> (<a class="idref" href="Groupoid.groupoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#g"><span class="id" type="variable">g</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">α</span> <span class="id" type="var">β</span> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#α"><span class="id" type="variable">α</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#β"><span class="id" type="variable">β</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#t"><span class="id" type="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
 We can now equip dependent functors with a groupoid structure
    as we have done for functors.
    We note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Prod"><span class="id" type="definition">_Prod</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span> the dependent product over a family of groupoids <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span>.

</div>
<div class="code">

<br/>
</div>

<div class="doc">
A family of setoids can be seen as a family of groupoids using a
lifting that we abusively note <span class="inlinecode"></span> <span class="inlinecode">[[[<a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a>]]]</span> <span class="inlinecode"></span>. We can prove that the
dependent product over a family of setoids is also a setoid. We note
<span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Prod0"><span class="id" type="definition">Prod0</span></a></span> the restriction of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Prod"><span class="id" type="definition">_Prod</span></a></span> to families of setoids.  
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h2 class="section">Dependent sums</h2>


<div class="paragraph"> </div>

 In the interpretation of Σ types, we pay for the
fact that we are missing the 2-dimensional nature of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Type"><span class="id" type="definition">_Type</span></a></span>. Indeed, as
we will need rewriting in the definition of equality on Σ types,
delivering the corresponding groupoid structure requires to reason on
compatibility between rewritings, which amount to the missing
2-dimensional laws. However, as <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a></span> is a groupoid, all 2-dimensional
equalities become trivial on a family of setoids, so we can define the
groupoid of Σ types over a groupoid <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> and a morphism of type <span class="inlinecode"></span> <span class="inlinecode">[<a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> <span class="inlinecode">-||-&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a>]</span> <span class="inlinecode"></span>.
</div>
<div class="code">

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="sum_type"><span class="id" type="definition">sum_type</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-||->'_x"><span class="id" type="notation">-||-&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">t</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">

  The 1-equality between dependent pairs is given by 1-equality on the
  first and second projections, with a transport on the second
  projection on the left.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sum_eq"><span class="id" type="definition">sum_eq</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-||->'_x"><span class="id" type="notation">-||-&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> (<a class="idref" href="Groupoid.groupoid.html#sum_type"><span class="id" type="definition">sum_type</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) := <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">m</span> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">P</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#transport"><span class="id" type="definition">transport</span></a> (<a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">[[[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a><a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">]]]</span></a>) <span class="id" type="var">P</span> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">

  In the same way, 2-equality between 1-equalities is given by projections
  and rewriting.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sum_eq2"><span class="id" type="definition">sum_eq2</span></a> <span class="id" type="var">T</span> (<span class="id" type="var">U</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-||->'_x"><span class="id" type="notation">-||-&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">M</span> <span class="id" type="var">N</span> : <a class="idref" href="Groupoid.groupoid.html#sum_type"><span class="id" type="definition">sum_type</span></a> <a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a>) : <a class="idref" href="Groupoid.groupoid.html#HomT"><span class="id" type="definition">HomT</span></a> (<a class="idref" href="Groupoid.groupoid.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid.html#N"><span class="id" type="variable">N</span></a>) <br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">P</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">°</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#transport_eq"><span class="id" type="definition">transport_eq</span></a> (<a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">[[[</span></a><a class="idref" href="Groupoid.groupoid.html#U"><span class="id" type="variable">U</span></a><a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">]]]</span></a>) <span class="id" type="var">P</span> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid.html#M"><span class="id" type="variable">M</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'°'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
 This way, we can define the groupoid <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span> of dependent sums for any family of setoids. When <span class="inlinecode"><a class="idref" href="Groupoid.HoTT_light.html#T"><span class="id" type="definition">T</span></a></span> is a setoid, <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#U"><span class="id" type="variable">U</span></a></span> is also a setoid.

</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>