<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Groupoid.groupoid_interpretation</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Groupoid.groupoid_interpretation</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

  Terms of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypDep"><span class="id" type="definition">TypDep</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> can be related using a dependent closure
  at the level of types. In the interpretation of typing judgments, this connection 
  will be used to switch between the fibration and the morphism points of view.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="LamT"><span class="id" type="definition">LamT</span></a> {<span class="id" type="var">Γ</span>: <span class="id" type="keyword">Context</span>} {<span class="id" type="var">A</span> : <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} (<span class="id" type="var">B</span>: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#LamT_1"><span class="id" type="instance">LamT_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab2"></a><h2 class="section">Substitutions</h2>


<div class="paragraph"> </div>

  A substitution is represented by a context morphism <span class="inlinecode">[<a class="idref" href="Groupoid.fun_ext.html#Γ"><span class="id" type="variable">Γ</span></a></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a>]</span>. 
  Note that although a substitution <span class="inlinecode">σ</span> can be composed with a dependent type <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> 
  by using composition of functors, we need to define a fresh notion of composition, 
  noted <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">⋅</span> <span class="inlinecode">σ</span>, with the same computational content but with new universe indices 
  to avoid universe inconsistency.

<div class="paragraph"> </div>

  A substitution σ can be extended by a term <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a>:</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode">(<a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">⋅</span> <span class="inlinecode">σ)</span> 
  of <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a></span>.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="SubExt"><span class="id" type="definition">SubExt</span></a> {<span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> : <span class="id" type="keyword">Context</span>} {<span class="id" type="var">A</span> : <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a>} (σ: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">a</span>: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a>)) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt_1"><span class="id" type="instance">SubExt_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 where <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt_1"><span class="id" type="instance">SubExt_1</span></a></span> is a proof that it is functorial. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="substF"><span class="id" type="definition">substF</span></a> {<span class="id" type="var">T</span> <span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) (σ:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) : <a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a>) <br/>
&nbsp;&nbsp;:= <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'°°'_x"><span class="id" type="notation">°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">[[[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a><a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">]]]</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#substF_1"><span class="id" type="instance">substF_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
A substitution <span class="inlinecode">σ</span> can be applied to a type family <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#F"><span class="id" type="variable">F</span></a></span> using the
  composition of a functor with a dependent functor. We
  abusively note all those different compositions with <span class="inlinecode">°</span> as it is done in
  mathematics, whereas they are distinct operators in the 
  development.
  The weakening substitution of  is given by the first
  projection. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

  A type family <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#F"><span class="id" type="variable">F</span></a></span> in <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> can be partially substituted with an
  term <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a></span> in <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span>, noted <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">{{<a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a>}}</span>, to get its value (a type) at
  <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a></span>. This process is defined as <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">{{<a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a>}}</span> <span class="inlinecode">:=</span> <span class="inlinecode">(<span class="id" type="var">λ</span></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#γ"><span class="id" type="variable">γ</span></a>,</span> <span class="inlinecode">(<a class="idref" href="Groupoid.fun_ext.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#γ"><span class="id" type="variable">γ</span></a>)</span> <span class="inlinecode">@</span> <span class="inlinecode">(<a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#γ"><span class="id" type="variable">γ</span></a>)</span> <span class="inlinecode">;</span>
  <span class="inlinecode"><span class="id" type="var">_</span>)</span> (where <span class="inlinecode"><span class="id" type="var">_</span></span> is a proof it is functorial). Note that this
  pattern of application  will be used
  later to defined other notions of application. Although the
  computational definitions are the same, the compatibility conditions
  are always different.  This notion of partial substitution in a type
  family enables to state that <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a></span> defines a type level
  -abstraction.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="BetaT"><span class="id" type="definition">BetaT</span></a> <span class="id" type="var">Δ</span> <span class="id" type="var">Γ</span> (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">B</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) (σ:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">a</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a>)) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'°°°'_x"><span class="id" type="notation">°°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt"><span class="id" type="definition">SubExt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.fun_depfun.html#::x_'⋅⋅'_x"><span class="id" type="notation">)</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <span class="id" type="var">_</span> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#BetaT_1"><span class="id" type="instance">BetaT_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab3"></a><h2 class="section">Interpretation of the typing judgment</h2>

  

<div class="paragraph"> </div>

  The explicit substitution versions of the typing rules of Figure
   are modelled as described below.

<div class="paragraph"> </div>

   

<div class="paragraph"> </div>

  The rule  is given by the second projection plus a proof
  that the projection is dependently functorial. Note the explicit
  weakening of <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> in the returned type. This is because we need to
  make explicit that the context used to type <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> is extended with an
  term of type <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span>.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Var"><span class="id" type="definition">Var</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) : <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑'_x"><span class="id" type="notation">⇑</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Var_1"><span class="id" type="instance">Var_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
 The rule  is interpreted
  using the dependent functor space, plus a proof that equivalent
  contexts give rise to isomorphic dependent functor spaces.  Note that
  the rule is defined on type families and not on the dependent type
  formulation because here we need a fibration point of view. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Prod"><span class="id" type="definition">Prod</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#Prod0"><span class="id" type="definition">Prod0</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#s"><span class="id" type="variable">s</span></a>)<a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Prod_1"><span class="id" type="instance">Prod_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  

<div class="paragraph"> </div>

  The rule  is interpreted using an up-to context application 
  and a proof of dependent functoriality. We abusively note <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#M"><span class="id" type="variable">M</span></a></span> <span class="inlinecode">@@</span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#N"><span class="id" type="variable">N</span></a></span> the application 
  of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#App"><span class="id" type="definition">App</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="App"><span class="id" type="definition">App</span></a> {<span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} {<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">c</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a>)) (<span class="id" type="var">a</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a>) := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#App_1"><span class="id" type="instance">App_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  

<div class="paragraph"> </div>

  Term-level -abstraction is defined with the same
  computational meaning as type-level -abstraction, but it
  differs on the proof of dependent functoriality. Note that we use
  <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a></span> in the definition because we need both the fibration (for
  <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a></span>) and the morphism (for <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#B"><span class="id" type="variable">B</span></a></span>) point of view. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Lam"><span class="id" type="definition">Lam</span></a> {<span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} {<span class="id" type="var">B</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">b</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>)) := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Lam_2"><span class="id" type="instance">Lam_2</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
  
  The rules for Σ types are interpreted using the 
  dependent sum <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a></span> on setoids.  

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Sigma"><span class="id" type="definition">Sigma</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span>: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)<a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Sigma_1"><span class="id" type="instance">Sigma_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 Pairing and projections are obtained
  by a context lift of pairing and projection of the underlying dependent sum.

</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
  
  It is not possible to prove in  that the conversion rule is
  preserved because the application of this rule is implicit and
  can not be reified. Nevertheless, to witness this preservation, 
  we show that beta conversion is valid as a definitional equality
  on the first projection. The other beta rules and the equational theory of 
  explicit substitutions can be validated in the same way, showing that
  this forms a CwF.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Beta"><span class="id" type="definition">Beta</span></a> {<span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} {<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">b</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a>) (<span class="id" type="var">a</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Lam"><span class="id" type="definition">Lam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@'_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'°°'_x"><span class="id" type="notation">°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#SubExtId"><span class="id" type="definition">SubExtId</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> <span class="id" type="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
  where <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExtId"><span class="id" type="definition">SubExtId</span></a></span> is a specialization of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt"><span class="id" type="definition">SubExt</span></a></span> with 
  the identity substitution.

</div>
<div class="code">

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab4"></a><h2 class="section">Identity Types</h2>

  One of the main interests of the groupoid interpretation is that it
  allows to interpret a type directed notion of equality which validates 
  the J eliminator of identity types but also various extensional principles,
  including functional extensionality. 
  For any terms <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a></span> of a dependent type <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#Γ"><span class="id" type="variable">Γ</span></a></span>, we note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Id"><span class="id" type="projection">Id</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a></span> the equality type
  between <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a></span> obtained by lifting <span class="inlinecode">~1</span> to get a type depending on <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#Γ"><span class="id" type="variable">Γ</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Id"><span class="id" type="definition">Id</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Id_1"><span class="id" type="instance">Id_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
The introduction rule of identity types which corresponds to reflexivity is interpreted by the (lifting of) identity of the underlying setoid. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Refl"><span class="id" type="definition">Refl</span></a> <span class="id" type="var">Γ</span> (<span class="id" type="var">A</span>: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">a</span> : <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>) := <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)<a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Refl_1"><span class="id" type="instance">Refl_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
We can interpret the J eliminator of MLTT on <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Id"><span class="id" type="projection">Id</span></a></span> using functoriality of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> and of product (<span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#prod_comp"><span class="id" type="definition">prod_comp</span></a></span>). In the definition of J, the predicate <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> depends on the proof of equality, which is interpreted using a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Sigma"><span class="id" type="definition">Sigma</span></a></span> type. The functoriality of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> is used on the term <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#J_Pair"><span class="id" type="definition">J_Pair</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#γ"><span class="id" type="variable">γ</span></a></span>, which is a proof that <span class="inlinecode">(<a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a>;<a class="idref" href="Groupoid.groupoid_interpretation.html#Refl"><span class="id" type="definition">Refl</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#a"><span class="id" type="variable">a</span></a>)</span> is equal to <span class="inlinecode">(<a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a>;<a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a>)</span>. The notation <span class="inlinecode">⇑⇑</span> <span class="inlinecode"><a class="idref" href="Groupoid.fun_ext.html#A"><span class="id" type="variable">A</span></a></span> is used to convert the type of terms according to equality on <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="J"><span class="id" type="definition">J</span></a> <span class="id" type="var">Γ</span> (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">a</span> <span class="id" type="var">b</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">P</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#TypFam"><span class="id" type="definition">TypFam</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Sigma"><span class="id" type="definition">Sigma</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.fun_depfun.html#::x_'°°°°'_x"><span class="id" type="notation">°°°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Sub"><span class="id" type="definition">Sub</span></a>) (<a class="idref" href="Groupoid.groupoid_interpretation.html#Var"><span class="id" type="definition">Var</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">e</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a>)) (<span class="id" type="var">p</span>:<a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Pair"><span class="id" type="definition">Pair</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">⇑⇑</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Refl"><span class="id" type="definition">Refl</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a>)) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation_def.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Pair"><span class="id" type="definition">Pair</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">⇑⇑</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a>) := <a class="idref" href="Groupoid.groupoid_interpretation.html#prod_comp"><span class="id" type="definition">prod_comp</span></a> <a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">map</span></a> <a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">)</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#J_Pair"><span class="id" type="definition">J_Pair</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#J_1"><span class="id" type="instance">J_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.groupoid.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#p"><span class="id" type="variable">p</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>