<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Groupoid.groupoid_interpretation</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Groupoid.groupoid_interpretation</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

  We now organize our formalization of groupoids into a model of the dependent 
  type theory with univalence introduced in Section.
  The interpretation is based on the notion of categories with families 
  introduced by Dybjer later used in .
  This interpretation can also be seen as an extension of the Takeuti-Gandy interpretation of simple type theory, recently generalized to dependent type theory by Coquand et al. using Kan semisimplicial sets or cubical sets. 

<div class="paragraph"> </div>

  There are two main novelties in our interpretation. First, we
  take advantage of universe polymorphism to interpret dependent types
  directly as functors into <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a></span>. Second, we provide an
  interpretation in a model where structures that are definitionally
  equal for Kan semisimplicial sets are only homotopically equal, which
  requires more care in the definitions (see for instance the definition
  of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Lam"><span class="id" type="definition">Lam</span></a></span> in Section  which mixes two points of view
  on fibrations).

<div class="paragraph"> </div>

  We only present the computational part of the interpretation, the
  proofs of functoriality and naturality are not detailled but most of
  them are available in the  development. We have admitted some of
  these administrative compatibility lemmas.

<div class="paragraph"> </div>

<a name="lab1"></a><h2 class="section">Dependent types</h2>


<div class="paragraph"> </div>

  The judgment context  of Section
   is represented in  as a groupoid, noted
  <span class="inlinecode"><span class="id" type="keyword">Context</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#GroupoidType"><span class="id" type="definition">GroupoidType</span></a></span>. The empty context (Rule )
  is interpreted as the groupoid with exactly one element at each
  dimension.  Types in a context <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span>, noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span>, are (context)
  functors from <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span> to the groupoid of setoids <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a></span>.  Thus, a
  judgment  is represented as a term <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> of
  type <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span>. Context extension (Rule ) is given by
  dependent sums, i.e., the judgment  is represented
  as <span class="inlinecode"><span class="id" type="var">_Sum</span></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span>.

<div class="paragraph"> </div>


</div>
<div class="code">
</div>

<div class="doc">
Terms of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> introduced by a sequent  are
  dependent (context) functors from <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span> to <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> that return for each
  context valuation <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a></span>, an object of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a></span> respecting equality of
  contexts.  The type of terms of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> is noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">:=</span> <span class="inlinecode">[<a class="idref" href="Groupoid.groupoid.html#_Prod"><span class="id" type="definition">_Prod</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>]</span>
  (context is implicit).  
<div class="paragraph"> </div>

  A dependent type  is interpreted in two
  equivalent ways: simply as a type <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#TypDep"><span class="id" type="definition">TypDep</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">:=</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode">(<span class="id" type="var">_Sum</span></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)</span> over the
  dependent sum of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> or as a type family <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> over <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span>
  (corresponding to a family of sets in constructive mathematics). A
  type family can be seen as a fibration (or bundle) from <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a></span> to <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span>.
  In what follows, the indice  is given to proofs of 
  (dependent) functoriality.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="TypFam"><span class="id" type="definition">TypFam</span></a> {<span class="id" type="var">Γ</span> : <span class="id" type="keyword">Context</span>} (<span class="id" type="var">A</span>: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) := <br/>
&nbsp;&nbsp;<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid.html#_Prod"><span class="id" type="definition">_Prod</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'[['_x_']]'"><span class="id" type="notation">[[</span></a> <a class="idref" href="Groupoid.groupoid.html#::'[['_x_']]'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'[['_x_']]'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::'[['_x_']]'"><span class="id" type="notation">]]</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-||->'_x"><span class="id" type="notation">-||-&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam_1"><span class="id" type="instance">TypFam_1</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

  Terms of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#TypDep"><span class="id" type="definition">TypDep</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> can be related using a dependent closure
  at the level of types. In the interpretation of typing judgments, this connection 
  will be used to switch between the fibration and the morphism points of view.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="LamT"><span class="id" type="definition">LamT</span></a> {<span class="id" type="var">Γ</span>: <span class="id" type="keyword">Context</span>} {<span class="id" type="var">A</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} (<span class="id" type="var">B</span>: <a class="idref" href="Groupoid.groupoid_interpretation.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#LamT_1"><span class="id" type="instance">LamT_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab2"></a><h2 class="section">Substitutions</h2>


<div class="paragraph"> </div>

  A substitution is represented by a context morphism <span class="inlinecode">[<a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a>]</span>. 
  Note that although a substitution <span class="inlinecode">σ</span> can be composed with a dependent type <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> 
  by using composition of functors, we need to define a fresh notion of composition, 
  noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">⋅</span> <span class="inlinecode">σ</span>, with the same computational content but with new universe indices 
  to avoid universe inconsistency.

<div class="paragraph"> </div>

  A substitution σ can be extended by an term <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>:</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode">(<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">⋅</span> <span class="inlinecode">σ)</span> 
  of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a></span>.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="SubExt"><span class="id" type="definition">SubExt</span></a> {<span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> : <span class="id" type="keyword">Context</span>} {<span class="id" type="var">A</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a>} (σ: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">a</span>: <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a>)) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt_1"><span class="id" type="instance">SubExt_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 where <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt_1"><span class="id" type="instance">SubExt_1</span></a></span> is a proof that it is functorial. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="substF"><span class="id" type="definition">substF</span></a> {<span class="id" type="var">T</span> <span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) (σ:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) : <a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a>) <br/>
&nbsp;&nbsp;:= <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'°°'_x"><span class="id" type="notation">°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">∀</span></a> <span class="id" type="var">t</span> : <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#T"><span class="id" type="variable">T</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#:type_scope:'∀'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">[[[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a><a class="idref" href="Groupoid.groupoid.html#::'[[['_x_']]]'"><span class="id" type="notation">]]]</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'--->'_x"><span class="id" type="notation">---&gt;</span></a> <a class="idref" href="Groupoid.groupoid.html#Type0"><span class="id" type="definition">Type0</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#substF_1"><span class="id" type="instance">substF_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
A substitution <span class="inlinecode">σ</span> can be applied to a type family <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> using the
  composition of a functor with a dependent functor. We
  abusively note all those different compositions with <span class="inlinecode">°</span> as it is done in
  mathematics, whereas they are distinct operators in the 
  development.
  The weakening substitution of  is given by the first
  projection. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

  A type family <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> in <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> can be partially substituted with an
  term <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a></span> in <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span>, noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">{{<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>}}</span>, to get its value (a type) at
  <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a></span>. This process is defined as <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">{{<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>}}</span> <span class="inlinecode">:=</span> <span class="inlinecode">(<span class="id" type="var">λ</span></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>,</span> <span class="inlinecode">(<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)</span> <span class="inlinecode">@</span> <span class="inlinecode">(<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a></span> <span class="inlinecode">@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)</span> <span class="inlinecode">;</span>
  <span class="inlinecode"><span class="id" type="var">_</span>)</span> (where <span class="inlinecode"><span class="id" type="var">_</span></span> is a proof it is functorial). Note that this
  pattern of application  will be used
  later to defined other notions of application. Although the
  computational definitions are the same, the compatibility conditions
  are always different.  This notion of partial substitution in a type
  family enables to state that <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a></span> defines a type level
  -abstraction.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="BetaT"><span class="id" type="definition">BetaT</span></a> <span class="id" type="var">Δ</span> <span class="id" type="var">Γ</span> (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">B</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) (σ:<a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Δ"><span class="id" type="variable">Δ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'-|->'_x"><span class="id" type="notation">-|-&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a>) (<span class="id" type="var">a</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a>)) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'°°°'_x"><span class="id" type="notation">°°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">⋅⋅</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt"><span class="id" type="definition">SubExt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#σ"><span class="id" type="variable">σ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'⋅⋅'_x"><span class="id" type="notation">)</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> <span class="id" type="var">_</span> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#BetaT_1"><span class="id" type="axiom">BetaT_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab3"></a><h2 class="section">Interpretation of the typing judgment</h2>

  

<div class="paragraph"> </div>

  The typing rules of Figure  are
  interpreted in the groupoid model as described below.

<div class="paragraph"> </div>

   

<div class="paragraph"> </div>

  The rule  is given by the second projection plus a proof
  that the projection is dependently functorial. Note the explicit
  weakening of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> in the returned type. This is because we need to
  make explicit that the context used to type <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> is extended with an
  term of type <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span>. The rule of Figure  is more general 
  as it performs an implicit weakening. We do not interpret this part of 
  the rule as weakening is explicit in our model. 

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Var"><span class="id" type="definition">Var</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑'_x"><span class="id" type="notation">⇑</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#Π2"><span class="id" type="abbreviation">Π2</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Var_1"><span class="id" type="instance">Var_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
 The rule  is interpreted
  using the dependent functor space, plus a proof that equivalent
  contexts give rise to isomorphic dependent functor spaces.  Note that
  the rule is defined on type families and not on the dependent type
  formulation because here we need a fibration point of view. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Prod"><span class="id" type="definition">Prod</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#Prod0"><span class="id" type="definition">Prod0</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#s"><span class="id" type="variable">s</span></a>)<a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Prod_1"><span class="id" type="axiom">Prod_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  

<div class="paragraph"> </div>

  The rule  is interpreted using an up-to context application 
  and a proof of dependent functoriality. We abusively note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#M"><span class="id" type="variable">M</span></a></span> <span class="inlinecode">@@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#N"><span class="id" type="variable">N</span></a></span> the application 
  of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#App"><span class="id" type="definition">App</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="App"><span class="id" type="definition">App</span></a> {<span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} {<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">c</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a>)) (<span class="id" type="var">a</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#App_1"><span class="id" type="instance">App_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  

<div class="paragraph"> </div>

  Term-level -abstraction is defined with the same
  computational meaning as type-level -abstraction, but it
  differs on the proof of dependent functoriality. Note that we use
  <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a></span> in the definition because we need both the fibration (for
  <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a></span>) and the morphism (for <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a></span>) point of view. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Lam"><span class="id" type="definition">Lam</span></a> {<span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} {<span class="id" type="var">B</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">b</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>)) := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Lam_2"><span class="id" type="axiom">Lam_2</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
  
  The rules for Σ types are interpreted using the 
  dependent sum <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a></span> on setoids.  

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Sigma"><span class="id" type="definition">Sigma</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span>: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#_Sum0"><span class="id" type="definition">_Sum0</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)<a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Sigma_1"><span class="id" type="axiom">Sigma_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 Pairing and projections are obtained
  by a context lift of pairing and projection of the underlying dependent sum.

</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
  
  It is not possible to prove in  that the conversion rule is
  preserved because the application of this rule is implicit and
  can not be reified. Nevertheless, to witness this preservation, 
  we show that beta conversion is valid as a definitional equality
  on the first projection. As conversion is only done on 
  types and interpretation of types is always projected, this is 
  enough to guarantee that the conversion rule is also admissible.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Beta"><span class="id" type="definition">Beta</span></a> {<span class="id" type="var">Γ</span>} {<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>} {<span class="id" type="var">F</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypDep"><span class="id" type="definition">TypDep</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">b</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#F"><span class="id" type="variable">F</span></a>) (<span class="id" type="var">a</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Lam"><span class="id" type="definition">Lam</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@'_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="Groupoid.HoTT_light.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'°°'_x"><span class="id" type="notation">°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#SubExtId"><span class="id" type="definition">SubExtId</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid.html#::'['_x_']'"><span class="id" type="notation">]</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> <span class="id" type="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
  where <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExtId"><span class="id" type="definition">SubExtId</span></a></span> is a specialization of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#SubExt"><span class="id" type="definition">SubExt</span></a></span> with 
  the identity substitution.

</div>
<div class="code">

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab4"></a><h2 class="section">Identity Types</h2>

  
  One of the main interest of the groupoid interpretation is that it
  allows to interpret a type directed notion of equality which validates 
  the J eliminator of identity types but also various extensional principles.
  For any terms <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a></span> of a dependent type <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span>, we note <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Id"><span class="id" type="projection">Id</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a></span> the equality type
  between <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a></span> obtained by lifting <span class="inlinecode">~1</span> to get a type depending on <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Id"><span class="id" type="definition">Id</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span>: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'~1'_x"><span class="id" type="notation">~1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Id_1"><span class="id" type="instance">Id_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
The introduction rule of identity types which corresponds to reflexivity is interpreted by the (lifting of) identity of the underlying setoid. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Refl"><span class="id" type="definition">Refl</span></a> <span class="id" type="var">Γ</span> (<span class="id" type="var">A</span>: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">a</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.groupoid.html#identity"><span class="id" type="method">identity</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)<a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Refl_1"><span class="id" type="axiom">Refl_1</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
We can interpret the J eliminator of MLTT on <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Id"><span class="id" type="projection">Id</span></a></span> using functoriality of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> and of product (<span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#prod_comp"><span class="id" type="definition">prod_comp</span></a></span>). In the definition of J, the predicate <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> depends on the proof of equality, which is interpreted using a <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Sigma"><span class="id" type="definition">Sigma</span></a></span> type. The functoriality of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> is used on the term <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#J_Pair"><span class="id" type="definition">J_Pair</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#P"><span class="id" type="projection">P</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a></span>, which is a proof that <span class="inlinecode">(<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>;<a class="idref" href="Groupoid.groupoid_interpretation.html#Refl"><span class="id" type="definition">Refl</span></a></span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a>)</span> is equal to <span class="inlinecode">(<a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a>;<a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a>)</span>. The notation <span class="inlinecode">⇑⇑</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> is used to convert the type of terms according to equality on <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="J"><span class="id" type="definition">J</span></a> <span class="id" type="var">Γ</span> (<span class="id" type="var">A</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">a</span> <span class="id" type="var">b</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">P</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#TypFam"><span class="id" type="definition">TypFam</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Sigma"><span class="id" type="definition">Sigma</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'°°°°'_x"><span class="id" type="notation">°°°°</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Sub"><span class="id" type="definition">Sub</span></a>) (<a class="idref" href="Groupoid.groupoid_interpretation.html#Var"><span class="id" type="definition">Var</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">e</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#b"><span class="id" type="variable">b</span></a>)) (<span class="id" type="var">p</span>:<a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Pair"><span class="id" type="definition">Pair</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">⇑⇑</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Refl"><span class="id" type="definition">Refl</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a>)) <br/>
&nbsp;&nbsp;: <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">{{</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Pair"><span class="id" type="definition">Pair</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::'⇑⇑'_x"><span class="id" type="notation">⇑⇑</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'{{'_x_'}}'"><span class="id" type="notation">}}</span></a>) := <a class="idref" href="Groupoid.groupoid_interpretation.html#prod_comp"><span class="id" type="definition">prod_comp</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">map</span></a> <a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a><a class="idref" href="Groupoid.groupoid.html#::'map'_x"><span class="id" type="notation">)</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#J_Pair"><span class="id" type="definition">J_Pair</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">)</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#J_1"><span class="id" type="axiom">J_1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#p"><span class="id" type="variable">p</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab5"></a><h2 class="section">Universe</h2>

   
  To interpret the universe , we need to define its syntax and interpretation of syntax as setoids altogether. That is,  requires inductive-recursive definitions to be interpreted.
  As such definition are not available in , we cannot completely interpret . Nevertheless, we present a way to interpret the identity type on  and Rule  which corresponds to the univalence axiom for .

<div class="paragraph"> </div>

   We interpret the identity type on  in the same way as <span class="inlinecode"><a class="idref" href="Groupoid.groupoid.html#Id"><span class="id" type="projection">Id</span></a></span>, except that it 
relates two dependent types <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> and <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a></span> instead of terms of a dependent type.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="UId"><span class="id" type="definition">UId</span></a> {<span class="id" type="var">Γ</span>} (<span class="id" type="var">A</span> <span class="id" type="var">B</span>: <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) : <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a> := <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">γ</span><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'~11'_x"><span class="id" type="notation">~11</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid.html#::x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#γ"><span class="id" type="variable">γ</span></a> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">_</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">);</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#UId_1"><span class="id" type="axiom">UId_1</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
 To define the notion of isomorphism, we need to define a proper notion of function (noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">----&gt;</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a></span>) that does not use the restriction of <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a></span> to constant type families. This is because the definition of an isomorphism involves two functions that have to be composed in both ways, which lead to universe inconsistency if we use dependent products to encode functions. We define the notion of application (noted <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_utility.html#g"><span class="id" type="variable">g</span></a></span> <span class="inlinecode">@@@</span> <span class="inlinecode"><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a></span>) for this kind of functions. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="iso_struct"><span class="id" type="record">iso_struct</span></a> (<span class="id" type="var">Γ</span>: <span class="id" type="keyword">Context</span>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">f</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'---->'_x"><span class="id" type="notation">----&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>)) := <br/>
{ <a name="iso_adjoint"><span class="id" type="projection">iso_adjoint</span></a> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'---->'_x"><span class="id" type="notation">----&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)  ;<br/>
&nbsp;&nbsp;<a name="iso_section"><span class="id" type="projection">iso_section</span></a> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#iso_adjoint"><span class="id" type="method">iso_adjoint</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Var"><span class="id" type="definition">Var</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">)</span></a>) (<a class="idref" href="Groupoid.groupoid_interpretation.html#Var"><span class="id" type="definition">Var</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a>)))) ;<br/>
&nbsp;&nbsp;<a name="iso_retract"><span class="id" type="projection">iso_retract</span></a> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Prod"><span class="id" type="definition">Prod</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#LamT"><span class="id" type="definition">LamT</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#Id"><span class="id" type="definition">Id</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#iso_adjoint"><span class="id" type="method">iso_adjoint</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Var"><span class="id" type="definition">Var</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'@@@'_x"><span class="id" type="notation">)</span></a>) (<a class="idref" href="Groupoid.groupoid_interpretation.html#Var"><span class="id" type="definition">Var</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>))))}.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="iso"><span class="id" type="definition">iso</span></a> (<span class="id" type="var">Γ</span>: <span class="id" type="keyword">Context</span>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) := <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">f</span> <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'---->'_x"><span class="id" type="notation">----&gt;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>) <a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#iso_struct"><span class="id" type="class">iso_struct</span></a> <span class="id" type="var">f</span><a class="idref" href="Groupoid.HoTT_light.html#::'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Then, we can show that this definition of isomorphism corresponds to equivalence of setoids.
  Again, the only extra work is with the management of context lifting. This provides a computational 
  content to the univalence axiom restricted to setoids.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Equiv_Intro"><span class="id" type="definition">Equiv_Intro</span></a> (<span class="id" type="var">Γ</span>: <span class="id" type="keyword">Context</span>) (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#Typ"><span class="id" type="definition">Typ</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Γ"><span class="id" type="variable">Γ</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="Groupoid.groupoid_interpretation.html#iso"><span class="id" type="definition">iso</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>) : <a class="idref" href="Groupoid.groupoid_interpretation.html#Elt"><span class="id" type="definition">Elt</span></a> (<a class="idref" href="Groupoid.groupoid_interpretation.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#::x_'≡'_x"><span class="id" type="notation">≡</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#B"><span class="id" type="variable">B</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">exact</span> <a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Groupoid.groupoid_interpretation.html#Equiv_Intro_"><span class="id" type="definition">Equiv_Intro_</span></a> <span class="id" type="var">e</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="Groupoid.groupoid_interpretation.html#Equiv_Intro_1"><span class="id" type="axiom">Equiv_Intro_1</span></a> <span class="id" type="var">e</span><a class="idref" href="Groupoid.HoTT_light.html#::'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>. <span class="id" type="keyword">Defined</span>.<br/>

<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>